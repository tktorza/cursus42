{% extends 'ClabBoardBundle:Base:baseModal.html.twig' %}

{% block title %}Ajouter un code pin pour la caisse{% endblock %}

{% block body %}
<form method="post" action="{{ path('board_user_pincode_add', { context: context, contextPk: contextPk }) }}">
    <div class="form-group">
        {{ form_row(form.name, { attr: { class: 'form-control' } }) }}
    </div>
    <div class="form-group">
        {{ form_row(form.code, { attr: { class: 'form-control' } }) }}
    </div>
    {% if context == 'client' %}
        <div class="form-group">
            {{ form_row(form.restaurant, { attr: { class: 'form-control' } }) }}
        </div>
    {% endif %}
<hr/>
    <h3>Droits utilisateur :</h3>
    <br/>
    <div class="form-group">
        <h5>Accès à myclickeat</h5>
        {{ form_widget(form.hasRightOnBo, { attr: { class: 'icheck' } }) }}
    </div>
    <div class="form-group">
        <h5>Accès aux logs</h5>
        {{ form_widget(form.hasRightOnLogs, { attr: { class: 'icheck' } }) }}
    </div>
    {{ form_rest(form) }}

    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
        <button type="submit" class="btn btn-primary">Enregistrer</button>
    </div>
</form>
{% endblock %}
{% block javascripts %}
    <script>
        $(document).ready(function()
        {
            $("#form_code").attr('maxlength','4');
            $("#form_code").attr('minlength','4');
        });
    </script>
{% endblock %}
